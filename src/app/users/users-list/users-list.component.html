<ion-grid class="app-table">

  <ion-row>

    <ion-col size="1" *ngIf="amIAdmin()"></ion-col>
    <ion-col>שם מלא</ion-col>
    <ion-col>שם משתמש</ion-col>
    <ion-col>דרג</ion-col>
    <ion-col></ion-col>
    <ion-col></ion-col>

  </ion-row>

  <ion-row *ngFor="let user of users">

    <ion-col size="1" *ngIf="amIAdmin()">
      <ion-button fill="clear" color="secondary" class="small-circle-btn" (click)="onDeleteUserClicked(user)">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-col>

    <ion-col>{{user.displayName}}</ion-col>
    <ion-col>{{user.username}}</ion-col>
    <ion-col>{{user.role | roleName}}</ion-col>

    <ion-col>
      <ion-button
              fill="outline" shape="round" color="dark"
              (click)="onEditUserClicked(user)"
              [disabled]="!canEditDetails(user) || disabled"
      >עריכת פרטים</ion-button>
    </ion-col>

    <ion-col>
      <ion-button shape="round"
                  [fill]="selectedUser == user.uid ? 'solid' : 'outline'"
                  [color]="selectedUser == user.uid ? 'secondary' : 'dark'"
                  (click)="onPermissionClicked(user)"
                  [disabled]="!amIAdmin() || disabled || user.role == UserRole.ADMIN">
        <ion-icon slot="start" src="../../assets/svg/icon_pen.svg"></ion-icon>
        <ion-text>עריכת הרשאה</ion-text>
      </ion-button>
    </ion-col>

  </ion-row>

</ion-grid>
