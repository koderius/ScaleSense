<ion-header>
  <app-header pageTitle="החזרות"></app-header>
</ion-header>

<ion-content>

  <div class="page-container">

    <div class="section">

      <ion-grid class="app-table">

        <h2 *ngIf="!myReturns.length" class="ion-text-center">
          <i><ion-text color="medium">לא קיימות החזרות</ion-text></i>
        </h2>

        <ion-row *ngIf="myReturns.length">
          <ion-col size="1"></ion-col>
          <ion-col>תאריך החזרה</ion-col>
          <ion-col>לקוח</ion-col>
          <ion-col>מספר הזמנה</ion-col>
          <ion-col>מוצר</ion-col>
          <ion-col size="4">סטטוס החזרה</ion-col>
        </ion-row>

        <ion-row *ngFor="let ret of myReturns">
          <ion-col size="1">
            <ion-button shape="round" color="secondary" class="small-circle-btn" fill="clear" (click)="deleteReturn(ret)">
              <ion-icon name="close" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-col>
          <ion-col>
            <ion-label>
              <h2>{{ret.product.returnTime | date : 'dd/MM/yyyy'}}</h2>
              <p>נהג: {{ret.product.returnDriverName}}</p>
            </ion-label>
          </ion-col>
          <ion-col>
            <ion-img [src]="getCustomerById(ret.cid)?.logo" class="ion-margin-end"></ion-img>
            <ion-text>{{getCustomerById(ret.cid)?.name}}</ion-text>
          </ion-col>
          <ion-col><a (click)="navService.goToOrder(ret.orderId)" style="cursor: pointer">{{ret.orderSerial}}</a></ion-col>
          <ion-col>{{ret.product.name}}</ion-col>
          <ion-col size="4">
            <ion-label>
              <h2>
                <ion-text>סטטוס: </ion-text>
                <b>{{ret.product.returnStatus | returnStatusText}}</b>
              </h2>
              <h6>
                <ion-text color="medium">סיבת החזרה: </ion-text>
                <ion-text>{{ret.product.returnReason}}</ion-text>
              </h6>
              <h6>
                <ion-text color="medium">משקל: </ion-text>
                <ion-text>{{ret.product.returnedWeight | unitAmount : 0}}</ion-text>
              </h6>
            </ion-label>
          </ion-col>
        </ion-row>

      </ion-grid>

    </div>

    <app-pagination
            [page]="page"
            [numOfItems]="myReturns.length"
            [totalNumOfItems]="null"
            (onForward)="nextPage()"
            (onBack)="prevPage()"
    ></app-pagination>

  </div>

</ion-content>
