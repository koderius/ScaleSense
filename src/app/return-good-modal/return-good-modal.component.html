<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button fill="clear" (click)="close()">
        <ion-icon name="close" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>החזרת מוצר</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content>

  <div id="container">

    <ion-row>
      <ion-col size="4" class="ion-hide-lg-down">פירוט מוצר</ion-col>
      <ion-col>
        <ion-item id="product-item" lines="none">
          <ion-thumbnail slot="start">
            <img [src]="returnObj.product?.image">
          </ion-thumbnail>
          <ion-label>
            <h1>
              <ion-text color="primary" style="font-weight: bold">{{returnObj.product?.name}}</ion-text>
            </h1>
            <h2 id="product-label">
              <p><b>מחיר לק"ג: </b><ion-text>{{returnObj.product.priceInOrder | price}}</ion-text></p>
              <p><b>כמות שהוזמנה: </b><ion-text>{{returnObj.product.amount | unitAmount : returnObj.product?.type}}</ion-text></p>
              <p><b>סה"כ מחיר: </b><ion-text>{{(returnObj.product.amount * returnObj.product.priceInOrder) | price}}</ion-text></p>
            </h2>
          </ion-label>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="4" class="ion-hide-lg-down">
        <ion-text>
          <ion-text>סטטוס החזרה </ion-text>
          <ion-text style="font-weight: normal">(בחר את הרצוי)</ion-text>
        </ion-text>
      </ion-col>
      <ion-col>
        <ion-button fill="outline" size="large" class="ion-margin-end" (click)="returnObj.product.returnStatus = ReturnStatus.REFUND" [ngClass]="returnObj.product.returnStatus == ReturnStatus.REFUND ? 'selected' : ''">{{ReturnStatus.REFUND | returnStatusText}}</ion-button>
        <ion-button fill="outline" size="large" class="ion-margin-end" (click)="returnObj.product.returnStatus = ReturnStatus.CHANGE" [ngClass]="returnObj.product.returnStatus == ReturnStatus.CHANGE ? 'selected' : ''">{{ReturnStatus.CHANGE | returnStatusText}}</ion-button>
        <ion-button fill="outline" size="large" class="ion-margin-end" (click)="returnObj.product.returnStatus = ReturnStatus.TRASH" [ngClass]="returnObj.product.returnStatus === ReturnStatus.TRASH ? 'selected' : ''">{{ReturnStatus.TRASH | returnStatusText}}</ion-button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="4" class="ion-hide-lg-down">סיבת החזרה</ion-col>
      <ion-col>
        <ion-item lines="none">
          <ion-label class="ion-hide-lg-up">סיבת החזרה</ion-label>
          <ion-input [(ngModel)]="returnObj.product.returnReason"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="4" class="ion-hide-lg-down">אישור שקילה</ion-col>
      <ion-col style="align-items: flex-end">
        <ion-button fill="outline" size="large" style="max-width: 8em" (click)="weigh()">שקילת <br class="ion-hide-md-up">מוצר</ion-button>
        <p style="margin: 0.5em">
          <b>כמות להחזרה: </b><br>
          <ion-text>{{returnObj.product.returnedWeight ? (returnObj.product.returnedWeight | unitAmount : 0) : 'טרם נשקל'}}</ion-text>
        </p>
      </ion-col>
    </ion-row>

  </div>

</ion-content>


<ion-footer>
  <div class="ion-float-end">
    <ion-button shape="round" color="dark" class="ion-margin" (click)="saveAndAdd()">שמירה והחזרת מוצר נוסף</ion-button>
    <ion-button shape="round" color="dark" class="ion-margin" (click)="saveDraft()">שמירה לטיוטה</ion-button>
    <ion-button shape="round" class="ion-margin" (click)="sendProducts()">
      <ion-icon src="../../assets/svg/icon_thumb.svg" slot="start"></ion-icon>
      <ion-text>סיום והחזרה</ion-text>
    </ion-button>
  </div>
</ion-footer>
